# pacmans

- Одно общее замкнутое поле.
- Таймер: 2 минуты.
- Получение очков путем собирания монеток. В начале игры поле заполнено монетками, по мере их поедания они спавнятся. При количестве монет<Х, спавнятся определенное количество монет.
- По истечении таймера, побеждает игрок с большим количеством монет.

## Пояснения

### Карта
    
- Карта вектор целочисленных значений: 0 - пустая клетка, 1 - стена, 2 - монетка, 10, 11, 12, 13... - персонажи, 3, 4... 9 - предметы,
-1, -2... - телепорты.
- Зациклена: противоположные стороны квадрата "отзеркалены", если игрок выходит за границу поля(справа, снизу, и т.д.), он появляется на границе поля(слева, сверху, и т.д.).

### Таймер

- Страртует, когда кол-во игроков >= N.
- Подсчитывает время.
- Возвращает информацию, когда время заканчивается.

### Графический интерфейс

- Карта
- Модельки предметов, персонажей и т.д
- Анимация
- Окно результатов

## Задачи

1) Карта - Оксана, Лера
2) Таймер - Глеб
3) Телепорт - Костя
4) Предметы - Захар, Соня
5) Взаимодействие игроков с картой и предметами - Саша
6) Очки и общий счёт - Оля
7) Объединение кусков, документация - Никита
8) Тесты, обработка ошибок - Вика
9) Обработка в браузере - Артём, Кристина
10) Веб сокет - Даня, Саня

## Текущее задание

Оксана, Лера - составить карту в `maps.clj`, в `server.clj:start-session` добавить спавн игроков на карте (в массиве карты изменение нуля на номер игрока. Номера игрокам присвоить при спавне) Можно сделать подгрузку карт из файлов.

Глеб - попробовать найти другое решение в параллельном программировании,
реализовать завершение сессии по времени (`server.clj`)

Костя - телепорту будет соответсвовать определенное число (см. Карта). Сначала без генерации. Расположить на карте два одинаковых значения. Написать фунцию в `commands.clj`: если одно из значений изменилось на номер игрока, то номер игрока переносится на второе значение, соответсвующее телепорту.

Захар, Соня - понять как изменять свойства для игроков в `player.clj`. Завести поле в `player.clj`, (значения таких полей будут независимы). Реализовать сохранение истории возращаемых значений из функций `commands.clj:move-north` и т.д (`execute input`) (см. Сашу) P.S - что-то похожее сейчас есть с `player.clj:*player-name*`, но возможно нужно другое решение, нужно посмотеть branch-и в mire.

Саша - в `commands.clj` изменение карты в зависимости от ответа пользователя (поменять массив карты, изменив рассположение номера игрока), функции `commands.clj:move-north` и т.д должны возращать значения соответвующие карте: 1 - пошел в стенку), 0 - перешел на пустое поле, 2 - перешел, получив монетку, 7 - перешел, получив предмет и т. д.

Оля - добавить поле в `player.clj`, в которое будет суммироваться количество очков. Суммирование очков реализовать в `server.clj:start-session`. Значения взять из тех, что возвращают функции `clj:move-north` и т.д (`execute input`) (см. Сашу)

Вика - обвернуть все что нужно в `server.clj` в try-cathch (есть примеры в последних branch-ах mire)

Артём, Кристина - вы хелп-отряд для Глеба, Захар, Сони и Саши, так как у них сложные задачи, которые требуют разбора примеров. Посмотреть mire, предложить решения.
Если останется время: найти и написать пример изменения графики в соответсвии с данными на js (например, поле из черных клеток, с одной желтой клеткой, которую можно перемещать с помощью стрелок клавиатуры). Сейчас дизайн не важен. Нужно чтобы можно было менять картинку в соответсвии с действием.

Даня, Саня - разобраться с темой. Написать что можно сделать. В каком формате и как будем отправлять данные, в каком получать. Как подключить нужные библиотеки к проекту (Даня шарит).

## Легенда о Пакмане

__Магия огня__ - Оксана, Лера, Вика  
__Магия земли__ - Глеб, Даня, Саня  
__Магия воздуха__ - Саша, Костя  
__Магия воды__ - Захар, Соня, Оля  
__Аватары__ - Артём, Кристина